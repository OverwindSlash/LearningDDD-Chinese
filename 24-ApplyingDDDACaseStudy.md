## 附录 A
# 应用 DDD：案例研究

在本附录中，我将分享我的领域驱动设计之旅是如何开始的：一家初创公司的故事，在本示例中，我们将其称为 “Marketnovus”。在 Marketnovus，我们从公司成立之日起就一直在采用 DDD 方法。多年来，我们不仅犯了每一个可能的 DDD 错误，而且还有机会从这些错误中学习并改正。我将使用这个故事和我们所犯的错误来展示 DDD 模式和实践在软件项目成功中所扮演的角色。

本案例研究由两部分组成。在第 I 部分中，我将向你介绍 Marketnovus 的五个限界上下文的故事、以及做出的设计决策以及结果。在第二部分，我将讨论这些故事如何反映你在本书中学所到的东西。

在我们开始之前，我需要强调，Marketnovus 已经不存在了。因此，此附录决不是推销。此外，由于这是一家已倒闭的公司，我可以自由地诚实地谈论我们的经验。

## 五个限界上下文

在我们深入研究限界上下文以及如何设计它们之前，作为训练有素的 DDD 实践者，我们必须先定义Marketnovus 的业务领域。

### 业务领域

想象你正在生产一种产品或服务。Marketnovus 允许你将所有与营销有关的杂事外包出去。Marketnovus 的专家会为你的产品制定营销策略。它的文案和平面设计师会制作大量的创意材料，如横幅和着陆页，用于开展广告活动，以推广你的产品。这些活动产生的所有线索将由 Marketnovus 的销售专员处理，他们将打电话并销售你的产品。图 A-1 描述了这个过程。

<img src=images/figureA-1.png />
图 A-1. 营销流程 <br><br>

最重要的是，这个营销流程提供了许多优化的机会，而这正是分析部门所负责的工作。他们分析所有数据，以确保 Marketnovus 及其客户获​​得最大的收益，通过确定最成功的活动，庆祝最有效的创意，还是确保销售人员在最有希望的线索上工作。

由于我们是一家自筹资金的公司，我们必须尽可能快地开始工作。因此，在公司成立后，我们软件系统的第一个版本就必须实现我们价值链的前三分之一。

* 一个用于管理合同和与外部发布商整合的系统
* 一个供我们的设计师管理创意材料的分类库
* 运营广告活动的活动管理解决方案

我不知所措，不得不想办法解决业务领域的所有复杂问题。幸运的是，在我们开始工作前不久，我读了一本书，它保证了这一点。当然，我说的是 Eric Evans 的开创性著作《领域驱动设计：软件核心复杂性应对之道》。

如果你读过本书的前言，你就会知道 Evans 的书提供了我长期以来一直在寻找的答案：如何设计和实现业务逻辑。也就是说，对我来说，这并不是一本初读时容易理解的书。尽管如此，我觉得仅仅通过阅读战术设计章节，我就已经对 DDD 有了深刻的掌握。

猜猜系统最初是如何设计的？这肯定会让来自 DDD 社区的某个杰出人物 [^1] 感到非常自豪。

### 限界上下文 #1：市场营销

我们的第一个解决方案的架构风格可以简洁地概括为 “无处不在的聚合”。代理商、活动、展示位、销售漏斗、发布商：需求中的每一个名词都被要求建模为聚合。

所有这些所谓的聚合都存在于一个巨大的、孤立的、限界上下文中。是的，一个巨大的、可怕的单体系统，就像现在每个人都会警告你的那种。

当然，这些都不是聚合。它们没有提供任何事务性的边界，而且它们几乎没有任何行为。所有业务逻辑都在一个巨大的服务层中实现。

当你打算实现一个领域模型但最终得到的是一个活动记录模式时，它通常被称为 “贫血领域模型” 反模式。事后看来，这个设计是就一个教科书般的例子，说明了如何不去实现一个领域模型。然而，从商业的角度来看，事情却完全不同。

从企业的角度来看，这个项目被认为是一个巨大的成功! 尽管架构上存在缺陷，但我们能够在非常紧迫的上市时间内交付可工作的软件。我们是怎么做到的？

#### 一种魔法

我们以某种方式成功设法得出了一套健壮的通用语言。我们之前都没有任何在线营销的经验，但我们仍然可以与领域专家进行对话。我们理解他们，他们也理解我们，而且令我们惊讶的是，领域专家变成了非常好相处的人！"。他们真诚地感谢我们愿意向他们以及向他们的经验学习。

与领域专家的顺畅沟通让我们第一时间掌握了业务领域并实现了其业务逻辑。是的，它是一个相当大的单体系统，但对于一个车库里的两个开发人员来说，它已经足够好了。同样，我们在非常紧迫的上市时间内生产出了可以工作的软件。

#### 我们对于领域驱动设计的早期理解

在这个阶段，我们对领域驱动设计的理解可以使用图 A-2 所示的简单图示来表示。

<img src=images/figureA-2.png />
图 A-2. 我们对于领域驱动设计的早期理解 <br><br>

### 限界上下文 #2：CRM

在我们部署活动管理解决方案后不久，潜在客户就开始涌入，我们很着急。我们的销售专员需要一个强大的客户关系管理 (CRM) 系统来管理销售线索及其生命周期。

CRM 必须汇总所有传入的线索，根据不同的参数对它们进行分组，并将它们分配到全球各地的多个销售台。它还必须与我们客户的内部系统整合，既要通知客户有关线索生命周期的变化，又要为我们的线索补充额外的信息。当然，CRM 还必须提供尽可能多的优化机会。例如，我们需要能确保专员在处理最有希望的线索，根据代理人的资格和过去的表现给他们分配相应的线索，并允许一个非常灵活的解决方案来计算代理人的佣金。

由于没有现成的产品符合我们的要求，我们决定推出我们自己的 CRM 系统。

#### 更多的 “聚合”

最初的实现方法是继续关注战术模式。同样，我们把每个名词都解读成了聚合，并把它们塞进了同一个单体。然而，这一次，从一开始就感觉有些不对劲。

我们注意到，我们经常在这些 "聚合" 名称中加入尴尬的前缀：例如，CRMLead 和 MarketingLead，MarketingCampaign 和 CRMCampaign。有趣的是，我们在与领域专家的交谈中从未使用过这些前缀。不知何故，他们总是从上下文中理解到了其含义。

然后，我想起了领域驱动设计中有一个限界上下文的概念，而我们到目前为止一直忽略了这个概念。在重温了 Evans 书中的相关章节后，我了解到限界上下文解决的问题与我们遇到的问题完全相同：它们保护了通用语言的一致性。此外，当时，Vaughn Vernon 已经发表了他的 “[Effective Aggregate Design](https://oreil.ly/tJ0pb)” 论文。该论文明确指出了我们在设计聚合时所犯的所有错误。我们仅把聚合当作了数据结构，但它们通过保护系统数据的一致性发挥了更大的作用。

我们退后一步，重新设计了 CRM 解决方案以反映这些启示。

#### 解决方案设计：再来一次

我们首先将单体划分为两个不同的限界上下文：marketing 和 CRM。当然，我们在这里并没有一步到位的建立微服务；我们只是做了最基本的工作来保护通用语言。

然而，在新的限界上下文 CRM 中，我们不会重复在营销系统中犯过的相同错误。不再有贫血的领域模型! 现在，我们将实现一个真实的领域模型，其中包含真实的、照章办事的聚合。特别是，我们发誓：

* 每个事务只会影响聚合的一个实例。
* 每个聚合本身将定义事务范围，而不是 ORM。
* 服务层将进行非常严格的瘦身，所有业务逻辑都将重构到相应的聚合中。

我们是如此热衷于以正确的方式做事。但是，我们很快就发现，想建立一个恰如其分的领域模型是很难的

相较于营销系统，所有事情都花费了更多的时间! 最开始就把事务的边界找对几乎是不可能的。我们不得不评估了至少几个模型并进行测试，后来才发现我们没有想到的模型才是正确的。以 “正确” 方式做事的代价非常高：这需要很多时间。

很快，每个人都明显感觉到，我们根本不可能在最后期限前完成任务！为了帮助我们解决问题，管理层决定将某些功能的实施工作卸载给……数据库管理员团队。

是的，他们将在存储过程中实现业务逻辑。

这一决定导致了很大的损失。这并不是因为 SQL 不是描述业务逻辑的最佳语言。不，真正的问题更加微妙和根本。

#### 巴别塔 2.0

这种情况产生了一个隐含的限界上下文，其边界剖析了我们最复杂的业务实体之一：Lead。

结果是两个团队在同一个业务组件上工作，并实现密切相关的功能，但他们之间的互动却很少。通用语言？饶了我吧! 从字面上看，每个团队都有自己的词汇来描述业务领域和它的规则。

这些模型并不一致。模型中也没有共识。知识被重复，同样的规则也被重复的实现。不出意外的，当逻辑不得不改变时，这些实现会瞬间失去同步。

不用多说，该项目未能按时交付，而且充满了 bug。多年来一直不为人知的恶劣的生产问题破坏了我们最宝贵的资产：我们的数据。

摆脱这一困境的唯一办法是彻底重写 Lead 聚合，这次将使用恰当的边界，我们在几年后才将其完成。这并不容易，但混乱的情况太严重了，没有其他办法了。

#### 对于领域驱动设计的更宽泛的理解

尽管按照商业标准，这个项目失败得很惨，但我们对领域驱动设计的理解却有了些许的进展：构建一种通用语言，使用限界上下文保护其完整性，不要到处实现贫血领域模型，而要实现恰当的领域模型。该模型如图 A-3 所示。

<img src=images/figureA-3.png />
图 A-3. 将战略设计概念引入到我们对领域驱动设计的理解之中 <br><br>

当然，这里缺少领域驱动设计的一个关键部分：子域，它们的类型，以及它们如何影响系统的设计。

最初我们想做到最好，但我们最终把时间和精力浪费在了建立支持子域的领域模型上。正如 Eric Evans 所说，并不是所有的大型系统都会有好的设计。我们通过艰难的方式学到了这一点，并希望能在我们的下一个项目中应用获得的知识。

### 限界上下文 #3：事件处理器

在 CRM 系统推出后，我们怀疑有一个隐性子域分布在 marketing 和 CRM 中。每当处理新增客户事件的流程必须被修改时，我们不得不在 marketing 和 CRM 限界上下文中都引入更改。

由于从概念上讲，这个过程不属于它们中的任何一个，我们决定将这个逻辑提取到一个被称为 “事件处理器” 的专用限界上下文中，如图 A-4 所示。

<img src=images/figureA-4.png />
图 A-4. 事件处理器限界上下文处理新增客户事件 <br><br>

由于我们没有从消息传送的方式中赚到任何钱，也没有任何现成的解决方案可以使用，因此事件处理器像极了一个支持性的子域。我们也是这样设计的。

这次没有什么花哨的东西：只是分层架构和一些简单的事务脚本。这个解决方案非常好用，但只用了一段时间。

随着我们业务的发展，我们在事件处理器中实现了越来越多的功能。它始于商业智能 (BI) 人员要求的一些标签：一个标记新联系人的标签，另一个标记各种第一次事件的标签，还有一些标签表示某些业务不变量，等等。

最终，这些简单的标签演变成了具有复杂规则和不变量的真实业务逻辑。一开始是事务脚本，后来发展成一个成熟的核心业务子域。

不幸的是，当你把复杂的业务逻辑作为事务脚本来实现时，不会有什么好事发生。由于我们没有调整我们的设计以应对复杂的业务逻辑，我们最终得到了一个非常大的泥球。对代码库的每次修改都变得越来越昂贵，质量下降，我们被迫重新考虑事件处理器的设计。我们在一年后才做了这件事。那时候，业务逻辑已经变得非常复杂，只能通过事件溯源来解决了。我们把事件处理器的逻辑重构为事件溯源领域模型，由其他限界上下文来订阅其事件。

### 限界上下文 #4：奖金

有一天，销售经理要求我们将他们一直以来手工操作的一个简单而乏味的流程自动化：计算销售专员的佣金。

同样，一开始也很简单：每月一次，只需计算每个专员的销售百分比，并将报告发送给经理就行。和以前一样，我们考虑了这是否是一个核心子域。答案是否定的。我们没有发明任何新东西，没有从这个过程中赚钱，如果有可能购买一个现有的实施方案，我们肯定会这样做的。不是核心子域，也不是通用子域，只是另一个支撑子域而已。

我们据此设计了解决方案：活动记录对象，由一个 "智能" 服务层编排，如图 A-5 所示。

<img src=images/figureA-5.png />
图 A-5. 使用活动记录和分层架构模式实现的奖金限界上下文 <br><br>

一旦这个过程变得自动化，兄弟们，公司里的每个人都对它充满了创造力。我们的分析师希望优化这个过程。他们想尝试不同的百分比，将百分比与销售金额和价格挂钩，为实现不同的目标解锁额外的佣金，等等。猜猜最初的设计是什么时候崩溃的？

再一次，代码库开始变成一个无法管理的泥球。增加新的功能变得越来越昂贵，错误开始出现--当你与钱打交道时，即使是最小的错误也会产生很 **大** 的后果。

#### 设计：再来一次

与事件处理程序项目一样，在某些时候我们再也无法忍受了。我们不得不丢弃旧代码并从头开始重写解决方案，这次是作为事件溯源领域模型。

正如在事件处理器项目中一样，业务领域最初被归类为支持性的。随着系统的演进，它逐渐变异为一个核心子域：我们找到了从这些过程中赚钱的方法。但是，这两个限界上下文之间存在显着差异。

#### 通用语言

对于奖金项目，我们有了一种通用语言。尽管最初的实现是基于活动记录的，但我们仍然可以拥有通用语言。

随着领域复杂性的增加，领域专家使用的语言也变得越来越复杂。从某种程度上，它不能再使用活动记录进行建模了! 这一认识使我们能够比在事件处理器项目中更早地注意到改变设计的需求。多亏了通用语言，我们没有试图将方钉插入圆孔，从而节省了大量时间和精力。

#### 对领域驱动设计的经典理解

至此，我们对领域驱动设计的理解终于演变成了经典的形式：通用语言、限界上下文、不同类型的子域，每个子域都是根据其需求进行设计的，如图 A-6 所示。

<img src=images/figureA-6.png />
图 A-6. 领域驱动设计的经典模型 <br><br>

然而，对于我们的下一个项目来说，事情发生了意想不到的转变。

### 限界上下文 #5：市场营销中心

我们的管理层正在寻找一个有利可图的新垂直领域。他们决定尝试利用我们的能力来产生大量的销售线索并将其出售给我们以前没有合作过的小型客户。这个项目被称为 “营销中心” 。

由于管理层将这一业务领域定义为新的盈利机会，因此它显然是一个核心业务领域。因此，在设计上，我们拿出了重磅炸弹：事件溯源领域模型和 CQRS。另外，在当时，一个新的流行词汇--*微服务*，开始获得大量的关注。

我们的解决方案类似于图 A-7 中所示的实现。

<img src=images/figureA-7.png />
图 A-7. 营销中心限界上下文的基于微服务的实现 <br><br>

小型服务，每个都有自己的数据库，它们之间既有同步通信也有异步通信：在纸面上，它看起来像是一个完美的解决方案设计。在实践中，却并非如此。

#### 微了什么？

我们天真地实现微服务，认为服务越小越好。因此，我们围绕聚合绘制了服务边界。在 DDD 术语中，每个聚合都变成了自己的限界上下文。

同样，最初这个设计看起来很棒。它使我们能够根据其特定需求实现每项服务。只有一个服务会使用事件溯源，其余的都使用基于状态的聚合。而且，它们都可以独立维护和扩展。

然而，随着系统的演进，这些服务变得越来越话唠了。最终，几乎每个服务都需要来自所有其他服务的数据来完成其某项操作。其结果是什么？原本打算做成一个解耦了的系统，最后却变成了一个分布式单体：这绝对是维护的噩梦。

不幸的是，这个架构还有另一个更根本的问题。为了实现营销中心，我们使用了最复杂的业务领域建模模式：领域模型和事件溯源领域模型。我们精心设计了这些服务。但这一切都是徒劳的。

#### 真正的问题

尽管该企业认为营销中心是一个核心子域，但它在技术上并不复杂。在这个复杂架构的背后，有一个非常简单的业务逻辑，这个逻辑简单到可以用普通的活动记录来实现。

事实证明，这些生意人希望通过利用我们与其他公司的现有关系而不是通过使用聪明的算法来获利。

技术上的复杂性最终比业务上的复杂性高得多。为了描述这种复杂性的差异，我们使用了 *意外复杂性* （accidental complexity）这个术语，而我们最初的设计最终正是如此。该系统被过度设计了。

## 讨论

这些是我想告诉你的五个限界上下文：市场营销、CRM、事件处理器、奖金和营销中心。当然，像 Marketnovus 这样广泛的业务领域需要更多的限界上下文，但我想分享我们从中学到最多的那些。

现在我们已经了解了五个限界上下文，让我们从不同的角度来看这个问题。对领域驱动设计的核心要素的应用或误用是如何影响我们的结果的？让我们来看一下。

### 通用语言

以我的经验，通用语言是领域驱动设计的 “核心子域”。与我们的领域专家说同一种语言的能力对我们来说是不可或缺的。事实证明，这是一种比测试或文档更有效的知识共享方式。此外，对我们来说，通用语言的存在是项目成功的主要预测因素。

* 刚开始的时候，我们对营销系统的实现还很不完善。然而，强大的通用语言弥补了架构上的缺陷，使我们能够实现项目的目标。
* 在 CRM 上下文中，我们搞砸了。无意中，我们有两种语言来描述同一个业务领域。我们努力进行适当的设计，但由于沟通问题，我们最终搞得一团糟。
* 事件处理器项目最初只是一个简单的支撑子域，我们没有对通用语言花什么时间。当复杂性开始增加时，我们对这个决定感到非常后悔。如果我们最初就从通用语言开始，那么我们花费的时间会少得多。
* 在奖金项目中，业务逻辑变得复杂了几个数量级，但是通用语言让我们更早地注意到需要改变实现策略。

因此，通用语言不是可有可无的，无论你是在核心子域、支撑子域还是通用子域上工作。

我们了解到尽可能早地投资于通用语言的重要性。如果一种语言在公司中已经使用了一段时间（就像我们的 CRM 系统一样），那么 “修复” 这种语言就需要付出巨大的努力和耐心。我们能够修复实现。这虽然并不容易，但最终我们能做到。然而，对于通用语言而言，情况却并非如此。多年来，一些人仍在使用最初实现中定义的相互矛盾的术语。

### 子域

正如你在第 1 章中了解到的，存在三种类型的子域——核心子域、支撑子域和通用子域——在设计解决方案时识别起作用的子域很重要。

识别子域的类型可能具有挑战性。正如我们在第 1 章中讨论的那样，识别子域非常重要，要在与你正在构建中的软件系统相关的粒度级别上进行识别。例如，我们的营销中心计划旨在成为公司的额外利润来源。然而，此功能的软件方面却是一个支撑子域，而利用与其他公司的关系和合同才是真正的竞争优势，才是真正的核心子域。

此外，正如你在第 11 章中学到的，仅仅识别一个子域的类型是不够的。你还必须意识到子域可能演变为另一种类型。在 Marketnovus，我们见证了子域类型变化的几乎所有可能组合：

* 事件处理器和奖金最初都是作为支撑子域实现的，然而一旦我们发现了将这些流程盈利化的方法之后，它们就变成了我们的核心子域。
* 在营销方面，我们实现了自己的创意目录。它并没有什么特别或复杂的地方。然而，几年后，一个开源项目出现了，它提供的功能甚至比我们原来的更多。一旦我们用这个产品替换了我们的实现，支撑子域就变成了通用子域。
* 在 CRM 上下文中，我们有一种算法可以识别最有希望的潜在客户。随着时间的推移，我们对它进行了改进，并尝试了不同的实现方式，但最终它被一个在云供应商的管理服务中运行的机器学习模型所取代。从技术上讲，核心子域变成了通用子域。
* 正如我们所看到的，我们的营销中心系统开始是一个核心子域，但最终变成了一个支撑子域，因为竞争优势存在于一个完全不同的维度。

正如你在本书中所学到的，子域类型会影响一系列的设计决策。未能正确识别一个子域的类型可能是一个代价高昂的错误，例如，在事件处理器和营销中心的场景里。

#### 将设计决策映射到子域

这是我在 Marketnovus 想出的一个技巧，可以进行傻瓜式子域识别：反转子域和战术设计决策之间的关系。选择业务逻辑实现模式。不需要深思熟虑或外观华丽；只需选择适合手头需求的模式。接下来，将所选模式映射到合适的子域类型。最后，用业务愿景验证识别出的子域类型。

反转子域和战术设计决策之间的关系可以在你和业务之间建立额外的对话。有时，生意人也需要我们，就像我们需要他们一样。

如果他们认为某项业务是核心业务，但是你可以在一天内搞定它，那么这要么是一个迹象，表明你需要寻找更精细的子域，要么就是应该对该业务的可行性提出质疑。

另一方面，如果一个子域被业务视为支撑子域但只能使用高级建模技术实现，比如领域模型或事件溯源领域模型，事情就会变得有趣。

首先，业务人员可能对他们的需求过于有创意，并最终导致意外的业务复杂性。当这种情况发生时，需求可以也应该被简化。

其次，可能是生意人还没有意识到他们可以使用这个子域来获得额外的竞争优势。这在奖金项目里发生过。通过发现这种不匹配，你可以帮助企业更快地确定新的利润来源。

#### 不要忽视痛苦

最重要的是，在实现系统的业务逻辑时永远不要忽视 “痛苦”。这是演进和增强业务领域模型或战术设计决策的关键信号。在后一种情况下，这意味着子域已经演化，是时候回过头来重新考虑它的类型和实现策略了。如果类型发生了变化，请与领域专家沟通以了解业务背景。如果你需要重新设计实现方案以满足新的业务实际，请不要害怕这种变化。一旦有意识地决定如何对业务逻辑进行建模，并且你也了解到所有可能的选项，那么就可以更容易地对此类更改做出反应并将实现重构为更精细的模式。

### 限界上下文的边界

在 Marketnovus，我们尝试了相当多的策略来设置限界上下文的边界。

* 语言边界：我们将最初的单体拆分为 marketing 和 CRM 上下文，以保护它们的通用语言。
* 基于子域的边界：我们的许多子域都是在它们自己的限界上下文中实现的；例如，事件处理器和奖金。
* 基于实体的边界：正如我们之前所讨论的，这种方法在市场营销中心项目中取得的成功有限，但在其他项目中却奏效了。
* 自杀式的边界。你可能还记得，在 CRM 的最初实现中，我们将一个聚合剖析为两个不同的有界上下文。不要在家里尝试这样做，好吗？

推荐使用这些策略中的哪一个？它们没有一个会适合所有情况。根据我们的经验，从一个较大的服务中提取一个服务要比从太小的服务开始要安全得多。因此，我们倾向于从更大的边界开始，以后随着对业务的更多了解，再将其继续分解。这些初始边界会有多宽？正如我们在第 11 章中讨论的那样，这一切都可以追溯到业务领域：你对业务领域了解的越少，初始边界就越宽。

这种启发式方法对我们很有帮助。例如，在 marketing 和 CRM 限界上下文的情况下，每个上下文都包含多个子域。随着时间的推移，我们逐渐将最初宽泛的边界分解为微服务。正如我们在第 14 章中定义的那样，在限界上下文的整个演进过程中，我们一直处于安全边界的范围内。只有在获得足够的业务领域知识后，我们才能通过重构来避免越过安全边界。

## 结论

在 Marketnovus 限界上下文的故事中，我展示了我们对领域驱动设计的理解是如何随着时间的推移而演变的（请参阅图 A-6 进行复习）：

* 我们总是从与领域专家一起构建通用语言开始，以尽可能多地了解业务领域。
* 在模型冲突的情况下，我们按照通用语言的语言边界将解决方案分解为限界上下文。
* 我们在每个限界上下文中确定了子域的边界及其类型。
* 对于每个子域，我们通过使用战术设计启发式方法来选择实现策略。
* 我们用战术设计产生的子域类型验证了初始子域类型。在类型不匹配的情况下，我们会与业务进行讨论。有时这种对话会导致需求发生变化，因为我们能够为产品所有者提供关于项目的新视角。
* 随着更多领域知识的获得，如果有需要的话，我们会将现有限界上下文进一步分解为具有更窄边界的上下文。

如果我们将这种领域驱动设计的愿景与我们开始时的愿景进行比较，我会说主要区别在于我们从 “到处是聚合” 变成了 “到处是通用语言”。

临别之际，既然我已经告诉你 Marketnovus 是如何开始的，我也想分享一下它是如何结束的。

公司很快就实现了盈利，并最终被其最大的客户收购。当然，我不能将它的成功仅仅归功于领域驱动设计。然而，在那些年里，我们一直处于 “启动模式”。

我们在以色列称之为 "启动模式" 的东西在世界其他地方被称为 "混乱"：不断变化的业务需求和优先级、紧迫的时间范围以及小型研发团队。DDD 使我们能够解决所有这些复杂的问题，并不断交付可运行的软件。因此，当我回头看时，我们在领域驱动的设计上所下的赌注得到了充分的回报。

[^1]: @DDDBorat 是一个 Twitter 的帐户，通过滑稽模仿的方式分享有关领域驱动设计的糟糕建议而闻名。